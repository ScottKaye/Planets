!function(t){"use strict";function l(t){console.log(t.target);var i=t.target.cx.animVal.value+e.tooltipOffsetX,o=t.target.cy.animVal.value+e.tooltipOffsetY;r?r.animate({opacity:1},100).attr({x:i,y:o}):(r=n.rect(i,o,e.tooltipWidth,e.tooltipHeight).attr({fill:"#00ff00",opacity:0}).animate({opacity:1},100),r.noclick())}function s(){r.animate({opacity:0},100)}function c(){this.animate({opacity:.3},100)}function d(){this.animate({opacity:.2},100)}function f(t){n=new Raphael(t,o,a);var i,e,r;i=n.width,e=n.height,r=n.setViewBox(0,0,n.width,n.height),r.X=0,r.Y=0,window.addEventListener("wheel",function(t){var o=t.wheelDelta/120,a=i,l=e;o>0?(i*=.9,e*=.9):(i*=1.1,e*=1.1),r.X-=(i-a)/2,r.Y-=(e-l)/2,n.setViewBox(r.X,r.Y,i,e)})}function u(){for(var i=t.planets.length;i--;){var e=t.planets[i],o=e.orbit.length/(100/e.orbit.progress++);o>=e.orbit.length&&(e.orbit.progress=0);var a=e.orbit.getPointAtLength(o);e.circle.animate({cx:a.x,cy:a.y},e.orbit_time)}}function h(){var i,e,r={distance:0,radius:0};for(e=t.planets.length;e--;)i=t.planets[e],i.distance>r.distance&&(r.distance=i.distance),i.radius>r.radius&&(r.radius=i.radius);for(e=t.planets.length;e--;){i=t.planets[e];var f=i.distance/r.distance*o/16,h=i.radius/r.radius*a/50+2;i.orbit=n.ellipse(o/2,a/2,o/f,a/f).attr({fill:"#5a4479","stroke-width":0,opacity:.2}).hover(c,d),i.orbit.length=i.orbit.getTotalLength();var p=i.orbit.getPointAtLength(i.orbit.length/(1/Math.random()));i.circle=n.circle(p.x,p.y,h).attr({fill:i.color,"stroke-width":0}).toFront(),i.circle.hover(l,s).glow({width:1}).toBack(),i.orbit.progress=0,i.orbit.toBack(),i.circle.planet=i,console.log(i),window.setInterval(function(){u(i)},i.orbit_time)}var v=5;n.circle(o/2,a/2,v).attr({fill:"#ff9900","stroke-width":0}).glow({color:"#ff9900",width:1}).toFront()}var e={tooltipWidth:200,tooltipHeight:300,tooltipOffsetX:15,tooltipOffsetY:15},o=window.innerWidth,a=window.innerHeight,n=null,r=null;Raphael.el.noclick=function(){this.node.setAttribute("pointer-events","none")},t.loadGui=function(i){console.log(i),t.status.loaded&&(f(i),h())}}(window.solar=window.solar||{});